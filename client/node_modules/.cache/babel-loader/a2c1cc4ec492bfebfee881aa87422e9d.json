{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/achoudhuri/Study/CodePractice/PODTable/src/components/ListPods.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\n\nfunction ListPods() {\n  _s();\n\n  const [podDetails, setPodDetails] = useState([]);\n  const headings = ['Name', 'NameSpace', 'Status', 'Age'];\n  console.log(\"==podDetails==\", podDetails);\n  const result = podDetails.map(({\n    name,\n    nameSpace,\n    status,\n    age\n  }) => [name, nameSpace, status, age]);\n  console.log(\"==result==\", result);\n  const rows = result;\n  useEffect(() => {\n    fetch(\"http://localhost:8080/api/v1/pods/\", {\n      mode: 'no-cors'\n    }).then(response => {\n      console.log(\"response : \", response);\n      console.log(\"response.json() : \", response.json());\n      return response.json();\n    }).then(resBody => {\n      console.log(\"data : \", resBody);\n      let resArr = [];\n\n      if (resBody.items && resBody.items.length) {\n        resBody.items.forEach(item => {\n          //console.log(item.metadata.name)\n          let resObj = {};\n          resObj.name = item && item.metadata && item.metadata.name ? item.metadata.name : \"\";\n          resObj.nameSpace = item && item.metadata && item.metadata.namespace ? item.metadata.namespace : \"\";\n          resObj.status = item && item.status && item.status.phase ? item.status.phase : \"\";\n          resObj.age = item && item.metadata && item.metadata.creationTimestamp ? item.metadata.creationTimestamp : \"\";\n          resArr.push(resObj);\n        });\n      } //moment(item.metadata.creationTimestamp).format('DD MMM YYYY, h:mm:ss a')\n\n\n      console.log(\"resArr : \", resArr);\n      setPodDetails(resArr);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"ListPods\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ListPods, \"Cg1xR1CmMFmn6tbWqhtZo0mJR0c=\");\n\n_c = ListPods;\nexport default ListPods;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListPods\");","map":{"version":3,"sources":["/home/achoudhuri/Study/CodePractice/PODTable/src/components/ListPods.js"],"names":["React","useEffect","useState","ListPods","podDetails","setPodDetails","headings","console","log","result","map","name","nameSpace","status","age","rows","fetch","mode","then","response","json","resBody","resArr","items","length","forEach","item","resObj","metadata","namespace","phase","creationTimestamp","push"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;;AAEA,SAASC,QAAT,GAAoB;AAAA;;AAChB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BH,QAAQ,CAAC,EAAD,CAA5C;AAGA,QAAMI,QAAQ,GAAG,CACb,MADa,EAEb,WAFa,EAGb,QAHa,EAIb,KAJa,CAAjB;AAMEC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BJ,UAA9B;AACA,QAAMK,MAAM,GAAGL,UAAU,CAACM,GAAX,CAAe,CAAC;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,SAAR;AAAmBC,IAAAA,MAAnB;AAA2BC,IAAAA;AAA3B,GAAD,KAAsC,CAACH,IAAD,EAAOC,SAAP,EAAkBC,MAAlB,EAA0BC,GAA1B,CAArD,CAAf;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BC,MAA1B;AACA,QAAMM,IAAI,GAAGN,MAAb;AAEFR,EAAAA,SAAS,CAAC,MAAK;AACXe,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAvC,CAAL,CAA+DC,IAA/D,CAAoEC,QAAQ,IAAI;AAC5EZ,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BW,QAA3B;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCW,QAAQ,CAACC,IAAT,EAAlC;AACA,aAAOD,QAAQ,CAACC,IAAT,EAAP;AACH,KAJD,EAKCF,IALD,CAKMG,OAAO,IAAI;AACbd,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBa,OAAvB;AAEA,UAAIC,MAAM,GAAG,EAAb;;AAEA,UAAID,OAAO,CAACE,KAAR,IAAiBF,OAAO,CAACE,KAAR,CAAcC,MAAnC,EAA2C;AACvCH,QAAAA,OAAO,CAACE,KAAR,CAAcE,OAAd,CAAuBC,IAAD,IAAU;AAC5B;AACA,cAAIC,MAAM,GAAG,EAAb;AAEAA,UAAAA,MAAM,CAAChB,IAAP,GAAce,IAAI,IAAIA,IAAI,CAACE,QAAb,IAAyBF,IAAI,CAACE,QAAL,CAAcjB,IAAvC,GAA8Ce,IAAI,CAACE,QAAL,CAAcjB,IAA5D,GAAmE,EAAjF;AACAgB,UAAAA,MAAM,CAACf,SAAP,GAAmBc,IAAI,IAAIA,IAAI,CAACE,QAAb,IAAyBF,IAAI,CAACE,QAAL,CAAcC,SAAvC,GAAmDH,IAAI,CAACE,QAAL,CAAcC,SAAjE,GAA6E,EAAhG;AACAF,UAAAA,MAAM,CAACd,MAAP,GAAgBa,IAAI,IAAIA,IAAI,CAACb,MAAb,IAAuBa,IAAI,CAACb,MAAL,CAAYiB,KAAnC,GAA2CJ,IAAI,CAACb,MAAL,CAAYiB,KAAvD,GAA+D,EAA/E;AACAH,UAAAA,MAAM,CAACb,GAAP,GAAaY,IAAI,IAAIA,IAAI,CAACE,QAAb,IAAyBF,IAAI,CAACE,QAAL,CAAcG,iBAAvC,GACGL,IAAI,CAACE,QAAL,CAAcG,iBADjB,GACqC,EADlD;AAEAT,UAAAA,MAAM,CAACU,IAAP,CAAYL,MAAZ;AACH,SAVD;AAWH,OAjBY,CAkBzB;;;AACYpB,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBc,MAAzB;AAEAjB,MAAAA,aAAa,CAACiB,MAAD,CAAb;AACH,KA3BD;AA4BH,GA7BQ,EA6BN,EA7BM,CAAT;AAiCA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH;;GAxDQnB,Q;;KAAAA,Q;AA0DT,eAAeA,QAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\n\nfunction ListPods() {\n    const [podDetails, setPodDetails] = useState([]);\n\n  \n    const headings = [\n        'Name',\n        'NameSpace',\n        'Status',\n        'Age',\n      ];\n      console.log(\"==podDetails==\", podDetails)\n      const result = podDetails.map(({ name, nameSpace, status, age }) => [name, nameSpace, status, age]);\n      console.log(\"==result==\", result)\n      const rows = result\n\n    useEffect(()=> {\n        fetch(\"http://localhost:8080/api/v1/pods/\", {mode: 'no-cors'}).then(response => {\n            console.log(\"response : \", response);\n            console.log(\"response.json() : \", response.json());\n            return response.json()\n        })\n        .then(resBody => {\n            console.log(\"data : \", resBody);\n\n            let resArr = [];\n\n            if (resBody.items && resBody.items.length) {\n                resBody.items.forEach((item) => {\n                    //console.log(item.metadata.name)\n                    let resObj = {};\n\n                    resObj.name = item && item.metadata && item.metadata.name ? item.metadata.name : \"\";\n                    resObj.nameSpace = item && item.metadata && item.metadata.namespace ? item.metadata.namespace : \"\";\n                    resObj.status = item && item.status && item.status.phase ? item.status.phase : \"\";\n                    resObj.age = item && item.metadata && item.metadata.creationTimestamp ? \n                                    item.metadata.creationTimestamp : \"\";\n                    resArr.push(resObj);\n                });\n            }\n//moment(item.metadata.creationTimestamp).format('DD MMM YYYY, h:mm:ss a')\n            console.log(\"resArr : \", resArr);\n\n            setPodDetails(resArr)\n        });\n    }, [])\n\n    \n\n    return(\n        <div>\n            ListPods\n{/*             \n            <FilteringTable podDetails = {podDetails}/>\n            <DataTable headings={headings} rows={rows} /> */}\n        </div>\n    )\n}\n\nexport default ListPods;"]},"metadata":{},"sourceType":"module"}